(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6085,e=>{"use strict";e.s(["Headers",()=>r,"Request",()=>o,"Response",()=>i,"default",()=>n,"fetch",()=>s]);var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g;let s=t.fetch,n=t.fetch.bind(t),r=t.Headers,o=t.Request,i=t.Response},18566,(e,t,s)=>{t.exports=e.r(76562)},92760,e=>{"use strict";e.s(["createSession",()=>n,"createUser",()=>o,"getSessionByInviteCode",()=>r,"getUser",()=>i,"signIn",()=>s]);var t=e.i(84515);async function s(e,s){return t.supabase.auth.signInWithPassword({email:e,password:s})}async function n(e){let{name:s,invite_code:n,moderator_id:r}=e;return t.supabase.from("poker_sessions").insert({name:s,invite_code:n,moderator_id:r}).select("invite_code")}async function r(e){return t.supabase.from("poker_sessions").select("id").eq("invite_code",e).single()}async function o(e){let{username:s}=e;return t.supabase.from("poker_users").insert({username:s})}async function i(e){return t.supabase.from("poker_users").select("*").eq("username",e)}},30314,e=>{"use strict";e.s(["default",()=>o],30314);var t=e.i(43476),s=e.i(71645),n=e.i(18566),r=e.i(92760);function o(){let[e,o]=(0,s.useState)(""),[i,a]=(0,s.useState)(!1),[l,u]=(0,s.useState)(null),[d,c]=(0,s.useState)(null),[f,m]=(0,s.useState)(!0),g=(0,n.useRouter)(),p=async t=>{t.preventDefault(),a(!0),u(null),c(null),m(!1);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return Math.random().toString(36).substring(2,2+e).toUpperCase()}(),n=(await (0,r.getUser)(e)).data,o=n&&n.length>0?n[0].id:null;if(!o){u("You must be logged in as moderator."),a(!1),m(!0);return}let{data:i,error:l}=await (0,r.createSession)({name:e,invite_code:s,moderator_id:o});if(l)u(l.message),a(!1),m(!0);else{var d,f;c((null==i||null==(d=i[0])?void 0:d.invite_code)||s),a(!1),g.push("/session/".concat((null==i||null==(f=i[0])?void 0:f.invite_code)||s))}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-900 via-purple-900 to-blue-900",children:(0,t.jsxs)("div",{className:"bg-[#181f3a] p-10 sm:p-12 rounded-2xl shadow-2xl w-full max-w-xl text-center border border-blue-900/40",children:[(0,t.jsx)("h2",{className:"text-3xl font-extrabold mb-6 text-white drop-shadow-lg",children:"Create Session"}),(0,t.jsxs)("form",{onSubmit:p,children:[(0,t.jsx)("input",{type:"text",placeholder:"Session Name",value:e,onChange:e=>o(e.target.value),className:"w-full mb-4 p-3 rounded-lg bg-[#232a4d] text-white border border-blue-900/30 focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0}),(0,t.jsx)("button",{type:"submit",className:"w-full py-3 rounded-lg bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-900 font-semibold shadow hover:from-yellow-500 hover:to-orange-500 transition",disabled:i,children:i?"Creating...":"Create Session"})]}),l&&(0,t.jsx)("p",{className:"text-red-500 mt-4",children:l}),d&&(0,t.jsxs)("div",{className:"mt-6 p-4 rounded-lg bg-gradient-to-r from-green-400 to-blue-400 text-white",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Invite Code:"}),(0,t.jsx)("p",{className:"text-xl font-mono",children:d})]}),f&&(0,t.jsx)("div",{className:"mt-8"})]})})}},11737,e=>{e.v(e=>Promise.resolve().then(()=>e(6085)))}]);